(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{44699:(e,i,a)=>{Promise.resolve().then(a.bind(a,19097))},19097:(e,i,a)=>{"use strict";a.r(i),a.d(i,{default:()=>P});var t=a(95155),n=a(12115),r=a(20457),s=a(41674),l=a(32238),o=a(75436),d=a(64665),h=a(35256),c=a(47821),x=a(6327),u=a(93950),g=a(39241),m=a(1521),A=a(9561),j=a(30562),p=a(45704),w=a(10897),f=a(79545),v=a(450),y=a(39905),k=a(73999),b=a(76046),S=a(58671),C=a(26214),z=a(27753),D=a(75131),I=a(36417),E=a(22282),_=a(96854),T=a(5336),M=a(98650),W=a(83257),F=a(96821),Y=a(67663),L=a(16847),N=a(76372),O=a(90752);function R(){let[e,i]=n.useState(!1),[a,r]=n.useState(""),[s,l]=n.useState(""),[R,G]=n.useState(""),[P,q]=n.useState([]),[B,H]=n.useState(!0),[J,K]=n.useState(!1),[U,$]=n.useState(""),[Q,V]=n.useState(!1),[X,Z]=n.useState(""),[ee,ei]=n.useState(null),[ea,et]=n.useState("All"),[en,er]=n.useState(null),[es,el]=n.useState("nama"),eo=(0,b.useRouter)(),ed=async()=>{H(!0);try{let e=await fetch("/api");if(!e.ok)throw Error("Failed to fetch data");let{info:i}=await e.json();q(i)}catch(e){console.error(e.message)}finally{H(!1)}};n.useEffect(()=>{ed()},[]);let eh=()=>{V(!1)},ec=e=>{Z(e),V(!0)},ex=(e,i,a)=>{r(e),l(i),G(a)},eu=e=>{let i=new URLSearchParams({id:e.id}).toString();eo.push("/add?".concat(i))},eg=async e=>{K(!0);try{(await fetch("/api",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok?ex("success","Success","Data berhasil dihapus"):ex("error","Error","Data gagal dihapus")}catch(e){ex("error","Error",e.message)}finally{i(!0),K(!1),V(!1),ed()}},em=n.useMemo(()=>P.filter(e=>e.name.toLowerCase().includes(U.toLowerCase())).filter(e=>!ea||"All"===ea||e.kewarganegaraan===ea).filter(e=>{if(en){let i=new Date(en),a=new Date(e.tgl_lahir);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()&&a.getDate()===i.getDate()}return!0}).sort((e,i)=>"nama"===es?e.name.localeCompare(i.name):"email"===es?e.email.localeCompare(i.email):"tanggal_lahir"===es?new Date(e.tgl_lahir)-new Date(i.tgl_lahir):0),[P,U,ea,en,es]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{in:e,sx:{position:"fixed",top:"1rem",right:"1rem"},children:(0,t.jsxs)(w.A,{severity:a,action:(0,t.jsx)(c.A,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{i(!1)},children:(0,t.jsx)(x.A,{fontSize:"inherit"})}),sx:{mb:2},children:[(0,t.jsx)(u.A,{children:s}),R]})}),(0,t.jsxs)(S.A,{open:Q,onClose:eh,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,t.jsx)(I.A,{id:"alert-dialog-title",children:"apakah anda yakin ingin menghapus data ini?"}),(0,t.jsx)(z.A,{children:(0,t.jsx)(D.A,{id:"alert-dialog-description",children:"Data yang dihapus tidak dapat dikembalikan"})}),(0,t.jsxs)(C.A,{children:[(0,t.jsx)(E.A,{onClick:eh,children:"Batal"}),(0,t.jsx)(E.A,{onClick:()=>eg(X),children:J?(0,t.jsx)(_.A,{size:16}):"Hapus"})]})]}),(0,t.jsxs)(m.A,{width:"75%",direction:"row",spacing:2,children:[(0,t.jsx)(y.A,{variant:"outlined",placeholder:"Search by name...",fullWidth:!0,value:U,onChange:e=>$(e.target.value)}),(0,t.jsx)(E.A,{onClick:e=>{ei(e.currentTarget)},variant:"outlined",startIcon:(0,t.jsx)(T.A,{}),children:"Filter"})]}),(0,t.jsx)(M.A,{anchorEl:ee,id:"account-menu",open:!!ee,onClose:()=>{ei(null)},slotProps:{paper:{elevation:0,sx:{overflow:"visible",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:(0,t.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",width:"100%",maxWidth:400},children:[(0,t.jsx)(W.A,{children:(0,t.jsxs)(m.A,{direction:"column",sx:{width:"100%"},children:[(0,t.jsx)(F.A,{sx:{fontSize:"12px"},children:"Kewarganegaraan"}),(0,t.jsxs)(O.A,{labelId:"wni",id:"wni",value:ea,onChange:e=>et(e.target.value),fullWidth:!0,children:[(0,t.jsx)(W.A,{value:"All",children:"All"}),(0,t.jsx)(W.A,{value:"Indonesia",children:"Indonesia"}),(0,t.jsx)(W.A,{value:"Thailand",children:"Thailand"}),(0,t.jsx)(W.A,{value:"Malaysia",children:"Malaysia"}),(0,t.jsx)(W.A,{value:"Singapore",children:"Singapore"}),(0,t.jsx)(W.A,{value:"Australia",children:"Australia"})]})]})}),(0,t.jsx)(W.A,{children:(0,t.jsxs)(m.A,{direction:"column",sx:{width:"100%"},children:[(0,t.jsx)(F.A,{sx:{fontSize:"12px"},children:"Tanggal Lahir"}),(0,t.jsx)(Y.$,{dateAdapter:L.R,children:(0,t.jsx)(N.l,{value:en,onChange:e=>er(e),format:"YYYY-MM-DD",renderInput:e=>(0,t.jsx)(OutlinedInput,{...e,fullWidth:!0})})})]})}),(0,t.jsx)(W.A,{children:(0,t.jsxs)(m.A,{direction:"column",sx:{width:"100%"},children:[(0,t.jsx)(F.A,{sx:{fontSize:"12px"},children:"Sort by"}),(0,t.jsxs)(O.A,{labelId:"wni",id:"wni",value:es,onChange:e=>el(e.target.value),fullWidth:!0,children:[(0,t.jsx)(W.A,{value:"nama",children:"Nama"}),(0,t.jsx)(W.A,{value:"email",children:"email"}),(0,t.jsx)(W.A,{value:"tanggal_lahir",children:"Tanggal Lahir"})]})]})})]})}),(0,t.jsxs)(g.A,{container:!0,spacing:2,children:[B?Array.from({length:3}).map((e,i)=>(0,t.jsx)(g.A,{item:!0,xs:12,sm:6,md:4,children:(0,t.jsxs)(m.A,{direction:"row",component:d.A,spacing:2,useFlexGap:!0,sx:{color:"inherit",p:3,height:"100%",borderColor:"hsla(220, 25%, 25%, 0.3)",alignItems:"center",width:"100%"},children:[(0,t.jsx)(p.A,{animation:"wave",variant:"circular",width:32,height:32}),(0,t.jsx)(m.A,{direction:"row",spacing:1,sx:{flexGrow:1,alignItems:"center"},children:(0,t.jsxs)("div",{style:{width:"100%"},children:[(0,t.jsx)(p.A,{animation:"wave",variant:"text",width:100,height:20}),(0,t.jsx)(p.A,{animation:"wave",variant:"text",width:250,height:20})]})})]})},i)):0===em.length?(0,t.jsx)(g.A,{size:{xs:12},sx:{textAlign:"center",p:3,color:"grey.600"},children:(0,t.jsx)(A.A,{variant:"body1",sx:{fontWeight:"medium"},children:"Tidak ada data."})}):em.map((e,i)=>(0,t.jsx)(g.A,{size:{xs:12,sm:6,md:4},onClick:()=>{eu(e)},sx:{cursor:"pointer"},children:(0,t.jsxs)(m.A,{direction:"row",component:d.A,spacing:2,useFlexGap:!0,sx:{p:3,height:"100%",borderColor:"hsla(220, 25%, 25%, 0.3)",alignItems:"center","&:hover":{backgroundColor:"hsla(221, 14.40%, 38.00%, 0.30)"}},children:[B?(0,t.jsx)(p.A,{animation:"wave",variant:"circular",width:32,height:32}):(0,t.jsx)(j.A,{alt:e.name,src:e.image,sx:{width:32,height:32}}),(0,t.jsxs)(m.A,{direction:"row",spacing:1,sx:{flexGrow:1,alignItems:"center"},children:[(0,t.jsxs)("div",{style:{width:"100%"},children:[B?(0,t.jsx)(p.A,{animation:"wave",variant:"text",width:100,height:20}):(0,t.jsx)(A.A,{sx:{fontWeight:"medium",fontSize:14},children:e.name})," ",B?(0,t.jsx)(p.A,{animation:"wave",variant:"text",width:100,height:20}):(0,t.jsx)(A.A,{sx:{color:"grey.400",fontSize:12,justifyContent:"space-between"},children:e.email||"Alamat tidak tersedia"})]}),(0,t.jsxs)(m.A,{direction:"row",spacing:1,children:[(0,t.jsx)(c.A,{onClick:()=>eu(e),sx:{width:28,height:28},children:(0,t.jsx)(f.A,{sx:{fontSize:"16px"}})}),(0,t.jsx)(c.A,{onClick:()=>ec(e.id),sx:{width:28,height:28},children:(0,t.jsx)(v.A,{sx:{fontSize:"16px",color:"danger"}})})]})]})]})},i)),(0,t.jsxs)(d.A,{onClick:()=>eo.push("/add"),sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",color:"inherit",cursor:"pointer","&:hover":{backgroundColor:"hsla(221, 14.40%, 38.00%, 0.30)"}},children:[(0,t.jsx)(k.A,{sx:{fontSize:24}}),(0,t.jsx)(A.A,{sx:{fontSize:14},children:"Add New Item"})]})]})]})}var G=a(33345);function P(e){let i=(0,b.useRouter)();return(0,n.useEffect)(()=>{var e;(null===(e=i.query)||void 0===e?void 0:e.showToaster)&&setShowToast(!0)},[i.query]),(0,t.jsxs)(s.A,{...e,children:[(0,t.jsx)(r.default,{enableColorScheme:!0}),(0,t.jsx)(o.A,{sx:{position:"fixed",top:"1rem",right:"1rem"},children:(0,t.jsx)(l.A,{})}),(0,t.jsx)("div",{children:(0,t.jsx)(o.A,{id:"highlights",sx:{pt:{xs:4,sm:12},pb:{xs:8,sm:16}},children:(0,t.jsxs)(G.A,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",gap:{xs:3,sm:6}},children:[(0,t.jsxs)(o.A,{sx:{width:{sm:"100%",md:"60%"},textAlign:{sm:"left",md:"center"}},children:[(0,t.jsx)(A.A,{component:"h2",variant:"h4",gutterBottom:!0,children:"Wellcome"}),(0,t.jsx)(A.A,{variant:"body1",sx:{color:"grey.400"},children:"Aplikasi ini di buat untuk menguji kemampuan react teknis dengan menggunakan next js, kepada HRD yang terhormat semoha aplikasi ini dapat melirik saya dan mempertimbangkan kemampuan saya"})]}),(0,t.jsx)(R,{})]})})})]})}}},e=>{var i=i=>e(e.s=i);e.O(0,[461,850,670,336,59,441,455,358],()=>i(44699)),_N_E=e.O()}]);