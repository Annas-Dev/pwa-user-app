(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{44699:(e,a,i)=>{Promise.resolve().then(i.bind(i,19097))},19097:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>P});var t=i(95155),n=i(12115),r=i(20457),l=i(41674),s=i(32238),o=i(75436),d=i(64665),h=i(35256),c=i(47821),x=i(6327),g=i(93950),m=i(39241),u=i(1521),A=i(9561),j=i(30562),p=i(45704),w=i(10897),f=i(79545),v=i(450),k=i(39905),y=i(73999),b=i(76046),S=i(58671),C=i(26214),z=i(27753),D=i(75131),I=i(36417),_=i(22282),E=i(96854),T=i(5336),M=i(98650),W=i(83257),F=i(96821),Y=i(67663),L=i(16847),N=i(76372),O=i(90752);function R(){let[e,a]=n.useState(!1),[i,r]=n.useState(""),[l,s]=n.useState(""),[R,G]=n.useState(""),[P,q]=n.useState([]),[B,H]=n.useState(!0),[J,K]=n.useState(!1),[U,$]=n.useState(""),[Q,V]=n.useState(!1),[X,Z]=n.useState(""),[ee,ea]=n.useState(null),[ei,et]=n.useState("All"),[en,er]=n.useState(null),[el,es]=n.useState("nama"),eo=(0,b.useRouter)(),ed=async()=>{H(!0);try{let e=await fetch("/api");if(!e.ok)throw Error("Failed to fetch data");let{info:a}=await e.json();q(a)}catch(e){console.error(e.message)}finally{H(!1)}};n.useEffect(()=>{ed()},[]);let eh=()=>{V(!1)},ec=e=>{Z(e),V(!0)},ex=(e,a,i)=>{r(e),s(a),G(i)},eg=e=>{let a=new URLSearchParams({id:e.id,name:e.name,email:e.email,alamat:e.alamat,nomor_telepon:e.nomor_telepon,tgl_lahir:e.tgl_lahir,kewarganegaraan:e.kewarganegaraan,image:e.image}).toString();eo.push("/add?".concat(a))},em=async e=>{K(!0);try{(await fetch("/api",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok?ex("success","Success","Data berhasil dihapus"):ex("error","Error","Data gagal dihapus")}catch(e){ex("error","Error",e.message)}finally{a(!0),K(!1),V(!1),ed()}},eu=n.useMemo(()=>P.filter(e=>e.name.toLowerCase().includes(U.toLowerCase())).filter(e=>!ei||"All"===ei||e.kewarganegaraan===ei).filter(e=>{if(en){let a=new Date(en),i=new Date(e.tgl_lahir);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()&&i.getDate()===a.getDate()}return!0}).sort((e,a)=>"nama"===el?e.name.localeCompare(a.name):"email"===el?e.email.localeCompare(a.email):"tanggal_lahir"===el?new Date(e.tgl_lahir)-new Date(a.tgl_lahir):0),[P,U,ei,en,el]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{in:e,sx:{position:"fixed",top:"1rem",right:"1rem"},children:(0,t.jsxs)(w.A,{severity:i,action:(0,t.jsx)(c.A,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{a(!1)},children:(0,t.jsx)(x.A,{fontSize:"inherit"})}),sx:{mb:2},children:[(0,t.jsx)(g.A,{children:l}),R]})}),(0,t.jsxs)(S.A,{open:Q,onClose:eh,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,t.jsx)(I.A,{id:"alert-dialog-title",children:"apakah anda yakin ingin menghapus data ini?"}),(0,t.jsx)(z.A,{children:(0,t.jsx)(D.A,{id:"alert-dialog-description",children:"Data yang dihapus tidak dapat dikembalikan"})}),(0,t.jsxs)(C.A,{children:[(0,t.jsx)(_.A,{onClick:eh,children:"Batal"}),(0,t.jsx)(_.A,{onClick:()=>em(X),children:J?(0,t.jsx)(E.A,{size:16}):"Hapus"})]})]}),(0,t.jsxs)(u.A,{width:"75%",direction:"row",spacing:2,children:[(0,t.jsx)(k.A,{variant:"outlined",placeholder:"Search by name...",fullWidth:!0,value:U,onChange:e=>$(e.target.value)}),(0,t.jsx)(_.A,{onClick:e=>{ea(e.currentTarget)},variant:"outlined",startIcon:(0,t.jsx)(T.A,{}),children:"Filter"})]}),(0,t.jsx)(M.A,{anchorEl:ee,id:"account-menu",open:!!ee,onClose:()=>{ea(null)},slotProps:{paper:{elevation:0,sx:{overflow:"visible",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:(0,t.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",width:"100%",maxWidth:400},children:[(0,t.jsx)(W.A,{children:(0,t.jsxs)(u.A,{direction:"column",sx:{width:"100%"},children:[(0,t.jsx)(F.A,{sx:{fontSize:"12px"},children:"Kewarganegaraan"}),(0,t.jsxs)(O.A,{labelId:"wni",id:"wni",value:ei,onChange:e=>et(e.target.value),fullWidth:!0,children:[(0,t.jsx)(W.A,{value:"All",children:"All"}),(0,t.jsx)(W.A,{value:"Indonesia",children:"Indonesia"}),(0,t.jsx)(W.A,{value:"Thailand",children:"Thailand"}),(0,t.jsx)(W.A,{value:"Malaysia",children:"Malaysia"}),(0,t.jsx)(W.A,{value:"Singapore",children:"Singapore"}),(0,t.jsx)(W.A,{value:"Australia",children:"Australia"})]})]})}),(0,t.jsx)(W.A,{children:(0,t.jsxs)(u.A,{direction:"column",sx:{width:"100%"},children:[(0,t.jsx)(F.A,{sx:{fontSize:"12px"},children:"Tanggal Lahir"}),(0,t.jsx)(Y.$,{dateAdapter:L.R,children:(0,t.jsx)(N.l,{value:en,onChange:e=>er(e),format:"YYYY-MM-DD",renderInput:e=>(0,t.jsx)(OutlinedInput,{...e,fullWidth:!0})})})]})}),(0,t.jsx)(W.A,{children:(0,t.jsxs)(u.A,{direction:"column",sx:{width:"100%"},children:[(0,t.jsx)(F.A,{sx:{fontSize:"12px"},children:"Sort by"}),(0,t.jsxs)(O.A,{labelId:"wni",id:"wni",value:el,onChange:e=>es(e.target.value),fullWidth:!0,children:[(0,t.jsx)(W.A,{value:"nama",children:"Nama"}),(0,t.jsx)(W.A,{value:"email",children:"email"}),(0,t.jsx)(W.A,{value:"tanggal_lahir",children:"Tanggal Lahir"})]})]})})]})}),(0,t.jsxs)(m.A,{container:!0,spacing:2,children:[B?Array.from({length:3}).map((e,a)=>(0,t.jsx)(m.A,{item:!0,xs:12,sm:6,md:4,children:(0,t.jsxs)(u.A,{direction:"row",component:d.A,spacing:2,useFlexGap:!0,sx:{color:"inherit",p:3,height:"100%",borderColor:"hsla(220, 25%, 25%, 0.3)",alignItems:"center",width:"100%"},children:[(0,t.jsx)(p.A,{animation:"wave",variant:"circular",width:32,height:32}),(0,t.jsx)(u.A,{direction:"row",spacing:1,sx:{flexGrow:1,alignItems:"center"},children:(0,t.jsxs)("div",{style:{width:"100%"},children:[(0,t.jsx)(p.A,{animation:"wave",variant:"text",width:100,height:20}),(0,t.jsx)(p.A,{animation:"wave",variant:"text",width:250,height:20})]})})]})},a)):0===eu.length?(0,t.jsx)(m.A,{size:{xs:12},sx:{textAlign:"center",p:3,color:"grey.600"},children:(0,t.jsx)(A.A,{variant:"body1",sx:{fontWeight:"medium"},children:"Tidak ada data."})}):eu.map((e,a)=>(0,t.jsx)(m.A,{size:{xs:12,sm:6,md:4},onClick:()=>{console.log(e)},sx:{cursor:"pointer"},children:(0,t.jsxs)(u.A,{direction:"row",component:d.A,spacing:2,useFlexGap:!0,sx:{p:3,height:"100%",borderColor:"hsla(220, 25%, 25%, 0.3)",alignItems:"center","&:hover":{backgroundColor:"hsla(221, 14.40%, 38.00%, 0.30)"}},children:[B?(0,t.jsx)(p.A,{animation:"wave",variant:"circular",width:32,height:32}):(0,t.jsx)(j.A,{alt:e.name,src:e.image,sx:{width:32,height:32}}),(0,t.jsxs)(u.A,{direction:"row",spacing:1,sx:{flexGrow:1,alignItems:"center"},children:[(0,t.jsxs)("div",{style:{width:"100%"},children:[B?(0,t.jsx)(p.A,{animation:"wave",variant:"text",width:100,height:20}):(0,t.jsx)(A.A,{sx:{fontWeight:"medium",fontSize:14},children:e.name})," ",B?(0,t.jsx)(p.A,{animation:"wave",variant:"text",width:100,height:20}):(0,t.jsx)(A.A,{sx:{color:"grey.400",fontSize:12,justifyContent:"space-between"},children:e.email||"Alamat tidak tersedia"})]}),(0,t.jsxs)(u.A,{direction:"row",spacing:1,children:[(0,t.jsx)(c.A,{onClick:()=>eg(e),sx:{width:28,height:28},children:(0,t.jsx)(f.A,{sx:{fontSize:"16px"}})}),(0,t.jsx)(c.A,{onClick:()=>ec(e.id),sx:{width:28,height:28},children:(0,t.jsx)(v.A,{sx:{fontSize:"16px",color:"danger"}})})]})]})]})},a)),(0,t.jsxs)(d.A,{onClick:()=>eo.push("/add"),sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",color:"inherit",cursor:"pointer","&:hover":{backgroundColor:"hsla(221, 14.40%, 38.00%, 0.30)"}},children:[(0,t.jsx)(y.A,{sx:{fontSize:24}}),(0,t.jsx)(A.A,{sx:{fontSize:14},children:"Add New Item"})]})]})]})}var G=i(33345);function P(e){let a=(0,b.useRouter)();return(0,n.useEffect)(()=>{var e;(null===(e=a.query)||void 0===e?void 0:e.showToaster)&&setShowToast(!0)},[a.query]),(0,t.jsxs)(l.A,{...e,children:[(0,t.jsx)(r.default,{enableColorScheme:!0}),(0,t.jsx)(o.A,{sx:{position:"fixed",top:"1rem",right:"1rem"},children:(0,t.jsx)(s.A,{})}),(0,t.jsx)("div",{children:(0,t.jsx)(o.A,{id:"highlights",sx:{pt:{xs:4,sm:12},pb:{xs:8,sm:16}},children:(0,t.jsxs)(G.A,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",gap:{xs:3,sm:6}},children:[(0,t.jsxs)(o.A,{sx:{width:{sm:"100%",md:"60%"},textAlign:{sm:"left",md:"center"}},children:[(0,t.jsx)(A.A,{component:"h2",variant:"h4",gutterBottom:!0,children:"Wellcome"}),(0,t.jsx)(A.A,{variant:"body1",sx:{color:"grey.400"},children:"Aplikasi ini di buat untuk menguji kemampuan react teknis dengan menggunakan next js, kepada HRD yang terhormat semoha aplikasi ini dapat melirik saya dan mempertimbangkan kemampuan saya"})]}),(0,t.jsx)(R,{})]})})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[461,850,670,336,59,441,455,358],()=>a(44699)),_N_E=e.O()}]);