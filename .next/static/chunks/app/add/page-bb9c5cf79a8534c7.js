(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{59279:(e,a,n)=>{Promise.resolve().then(n.bind(n,44664))},44664:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>$});var r=n(95155),t=n(12115),i=n(76046),s=n(75436),l=n(64665),o=n(42479),d=n(20457),m=n(39241),c=n(9561),x=n(21455),h=n.n(x),g=n(39905),u=n(65724),p=n(96821),j=n(97975),A=n(4577),f=n(16847),b=n(67663),v=n(76372),w=n(47821),y=n(83257),k=n(22282),C=n(96854),S=n(61585),_=n(90752),z=n(30562),I=n(21291),D=n(1521),F=n(8187),N=n(10897),q=n(93950),P=n(35256),E=n(6327);let R=(0,A.A)(m.A)(()=>({display:"flex",flexDirection:"column"}));function T(){let[e,a]=t.useState(!1),[n,l]=t.useState("success"),[o,d]=t.useState(""),[c,x]=t.useState(""),[A,T]=t.useState(!1),[O,W]=t.useState("null"),[G,M]=t.useState(""),[Y,J]=t.useState(""),[B,L]=t.useState(""),[K,U]=t.useState(""),[$,H]=t.useState(null),[V,Q]=t.useState(""),[X,Z]=t.useState(null),ee=(0,i.useRouter)(),ea=(0,i.useSearchParams)(),en=t.useMemo(()=>({id:ea.get("id")||"",name:ea.get("name")||"",email:ea.get("email")||"",alamat:ea.get("alamat")||"",nomor_telepon:ea.get("nomor_telepon")||"",tgl_lahir:ea.get("tgl_lahir")||"",kewarganegaraan:ea.get("kewarganegaraan")||"",image:ea.get("image")||""}),[ea]),er=(e,a,n)=>{l(e),d(a),x(n)},et=async()=>{T(!0);let e={id:en.id,name:G,email:Y,alamat:K,nomor_telepon:B,tgl_lahir:$,kewarganegaraan:0===O?"Indonesia":V,image:X};if(""!==en.id)try{(await fetch("/api",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(er("success","Success","Data berhasil disimpan"),ee.back()):er("error","Error","Data gagal disimpan")}catch(e){er("error","Error",e.message)}finally{T(!1),a(!0)}else try{(await fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:G,email:Y,alamat:K,nomor_telepon:B,tgl_lahir:$,kewarganegaraan:0===O?"Indonesia":V,image:X})})).ok?(er("success","Success","Data berhasil disimpan"),ee.back()):er("error","Error","Data gagal disimpan")}catch(e){er("error","Error",e.message)}finally{T(!1),a(!0)}},ei=[{negara:"Malaysia"},{negara:"Singapore"},{negara:"Thailand"},{negara:"Australia"}];return t.useEffect(()=>{M(en.name),J(en.email),U(en.alamat),L(en.nomor_telepon),H(en.tgl_lahir?h()(en.tgl_lahir):null),"Indonesia"===en.kewarganegaraan?W(0):(W(1),Q(en.kewarganegaraan)),Z(en.image)},[]),console.log(en.kewarganegaraan),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.A,{in:e,sx:{position:"fixed",top:"1rem",right:"1rem"},children:(0,r.jsxs)(N.A,{severity:n,action:(0,r.jsx)(w.A,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{a(!1)},children:(0,r.jsx)(E.A,{fontSize:"inherit"})}),sx:{mb:2},children:[(0,r.jsx)(q.A,{children:o}),c]})}),(0,r.jsx)(s.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,width:"100%",maxWidth:{sm:"100%",md:600},maxHeight:"720px",gap:{xs:5,md:"none"}},children:(0,r.jsx)(t.Fragment,{children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),et()},children:[(0,r.jsxs)(m.A,{container:!0,spacing:3,children:[(0,r.jsx)(R,{size:{xs:12},children:(0,r.jsx)(D.A,{direction:"row",spacing:2,children:(0,r.jsx)(I.A,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{accept:"image/*",type:"file",id:"upload-avatar",style:{display:"none"},onChange:e=>{let a=e.target.files[0];if(a){let e=new FileReader;e.onload=()=>{Z(e.result)},e.readAsDataURL(a)}}}),(0,r.jsx)("label",{htmlFor:"upload-avatar",children:(0,r.jsx)(w.A,{component:"span",children:(0,r.jsx)(S.A,{})})})]}),children:(0,r.jsx)(z.A,{alt:G,src:X,sx:{width:100,height:100}})})})}),(0,r.jsxs)(R,{size:{xs:12,md:6},children:[(0,r.jsx)(p.A,{htmlFor:"full_name",required:!0,children:"Nama lengkap"}),(0,r.jsx)(j.A,{id:"full_name",name:"full_name",type:"name",placeholder:"Your name",autoComplete:"Nama lengkap",value:G,required:!0,size:"small",onChange:e=>M(e.target.value)})]}),(0,r.jsxs)(R,{size:{xs:12,md:6},children:[(0,r.jsx)(p.A,{htmlFor:"email",required:!0,children:"Email"}),(0,r.jsx)(j.A,{id:"email",name:"email",type:"email",placeholder:"example@gmail.com",autoComplete:"Email",value:Y,required:!0,size:"small",onChange:e=>J(e.target.value)})]}),(0,r.jsxs)(R,{size:{xs:12},children:[(0,r.jsx)(p.A,{htmlFor:"number",required:!0,children:"Nomor telepon"}),(0,r.jsx)(j.A,{id:"number",name:"number",type:"number",placeholder:"Street name and number",autoComplete:"shipping address-line1",required:!0,value:B,size:"small",onChange:e=>L(e.target.value)})]}),(0,r.jsxs)(R,{size:{xs:12},children:[(0,r.jsx)(p.A,{htmlFor:"alamat",required:!0,children:"Alamat"}),(0,r.jsx)(j.A,{id:"alamat",name:"alamat",type:"address",placeholder:"Jl. Kebon Jeruk No. 1",autoComplete:"alamat",required:!0,value:K,size:"small",onChange:e=>U(e.target.value)})]}),(0,r.jsxs)(R,{size:{xs:6},children:[(0,r.jsx)(p.A,{required:!0,children:"Tanggal lahir"}),(0,r.jsx)(b.$,{dateAdapter:f.R,children:(0,r.jsx)(v.l,{value:$,onChange:e=>H(e),format:"YYYY-MM-DD",renderInput:e=>(0,r.jsx)(j.A,{...e})})})]}),(0,r.jsxs)(R,{size:{xs:6},children:[(0,r.jsx)(p.A,{htmlFor:"wni",required:!0,children:"Kewarganegaraan"}),(0,r.jsxs)(_.A,{labelId:"wni",id:"wni",value:O,label:"Age",onChange:e=>W(e.target.value),children:[(0,r.jsx)(y.A,{value:0,children:"WNI"}),(0,r.jsx)(y.A,{value:1,children:"WNA"})]})]}),1===O?(0,r.jsx)(R,{size:{xs:12},children:(0,r.jsx)(u.A,{id:"negara",options:ei,getOptionLabel:e=>e.negara,value:ei.find(e=>e.negara===V)||null,onChange:(e,a)=>Q(a?a.negara:null),renderInput:e=>(0,r.jsx)(g.A,{...e,label:"Negara",variant:"outlined"})})}):null]}),(0,r.jsx)(s.A,{sx:[{display:"flex",flexDirection:{xs:"column-reverse",sm:"row"},alignItems:"end",flexGrow:1,gap:1,pb:{xs:12,sm:0},mt:{xs:2,sm:8},mb:"60px"},{justifyContent:"space-between"}],children:(0,r.jsx)(k.A,{variant:"contained",endIcon:A?(0,r.jsx)(C.A,{size:16}):(0,r.jsx)(F.A,{}),type:"submit",sx:{width:{xs:"100%",sm:"fit-content"}},children:"Submit"})})]})})})]})}var O=n(81996),W=n.n(O);function G(e){let{totalPrice:a,edit:n}=e;return(0,r.jsxs)(t.Fragment,{children:[n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Edit"}),(0,r.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:a})]}):(0,r.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:"Add new"}),(0,r.jsx)(l.A,{onClick:()=>router.push("/add"),sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",color:"inherit",cursor:"pointer"},children:(0,r.jsxs)(D.A,{direction:"row",spacing:2,useFlexGap:!0,sx:{p:3,height:"100%",borderColor:"hsla(220, 25%, 25%, 0.3)",alignItems:"center",width:"100%"},children:[(0,r.jsx)(z.A,{alt:"Annas",src:"ima",sx:{width:32,height:32}}),(0,r.jsx)(D.A,{direction:"row",spacing:1,sx:{flexGrow:1,alignItems:"center"},children:(0,r.jsxs)("div",{style:{width:"100%"},children:[(0,r.jsx)(c.A,{sx:{fontWeight:"medium",fontSize:14},children:"Name"}),(0,r.jsx)(c.A,{sx:{fontWeight:"medium",fontSize:12},children:"example@example.com"})]})})]})})]})}G.propTypes={totalPrice:W().string.isRequired};var M=n(19579),Y=n(27633);function J(e){let{totalPrice:a}=e,[n,i]=t.useState(!1),l=e=>()=>{i(e)},o=(0,r.jsxs)(s.A,{sx:{width:"auto",px:3,pb:3,pt:8},role:"presentation",children:[(0,r.jsx)(w.A,{onClick:l(!1),sx:{position:"absolute",right:8,top:8},children:(0,r.jsx)(E.A,{})}),(0,r.jsx)(G,{totalPrice:a})]});return(0,r.jsxs)("div",{children:[(0,r.jsx)(k.A,{variant:"text",endIcon:(0,r.jsx)(Y.A,{}),onClick:l(!0),children:"View details"}),(0,r.jsx)(M.Ay,{open:n,anchor:"top",onClose:l(!1),PaperProps:{sx:{top:"var(--template-frame-height, 0px)",backgroundImage:"none",backgroundColor:"background.paper"}},children:o})]})}J.propTypes={totalPrice:W().string.isRequired};var B=n(41674),L=n(32238),K=n(76581);function U(e){let a=(0,i.useSearchParams)(),n=(0,i.useRouter)(),x=(0,t.useMemo)(()=>({id:a.get("id")||"",name:a.get("name")||"",email:a.get("email")||"",alamat:a.get("alamat")||"",nomor_telepon:a.get("nomor_telepon")||"",tgl_lahir:a.get("tgl_lahir")||"",kewarganegaraan:a.get("kewarganegaraan")||"",image:a.get("image")||""}),[a]);return(0,r.jsxs)(B.A,{...e,children:[(0,r.jsx)(d.default,{enableColorScheme:!0}),(0,r.jsx)(s.A,{sx:{position:"fixed",top:"1rem",right:"1rem"},children:(0,r.jsx)(L.A,{})}),(0,r.jsxs)(m.A,{container:!0,sx:{height:{xs:"100%",sm:"calc(100dvh - var(--template-frame-height, 0px))"},mt:{xs:4,sm:0}},children:[(0,r.jsxs)(m.A,{size:{xs:12,sm:5,lg:4},sx:{display:{xs:"none",md:"flex"},flexDirection:"column",backgroundColor:"background.paper",borderRight:{sm:"none",md:"1px solid"},borderColor:{sm:"none",md:"divider"},alignItems:"start",pt:16,px:10,gap:4},children:[(0,r.jsx)(w.A,{onClick:()=>n.back(),children:(0,r.jsx)(K.A,{})}),(0,r.jsx)(s.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,width:"100%",maxWidth:500},children:(0,r.jsx)(G,{totalPrice:"$134.98",edit:!1})})]}),(0,r.jsxs)(m.A,{size:{sm:12,md:7,lg:8},sx:{display:"flex",flexDirection:"column",maxWidth:"100%",width:"100%",backgroundColor:{xs:"transparent",sm:"background.default"},alignItems:"start",pt:{xs:0,sm:16},px:{xs:2,sm:10},gap:{xs:4,md:8}},children:[(0,r.jsx)(l.A,{sx:{display:{xs:"flex",md:"none"},width:"100%"},children:(0,r.jsxs)(o.A,{sx:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.A,{variant:"subtitle2",gutterBottom:!0,children:x.name}),(0,r.jsx)(c.A,{variant:"body1",children:x.email})]}),(0,r.jsx)(J,{totalPrice:x.name})]})}),(0,r.jsx)(T,{})]})]})]})}function $(e){return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(U,{...e})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[461,850,670,848,59,441,455,358],()=>a(59279)),_N_E=e.O()}]);